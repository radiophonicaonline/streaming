<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Radiophonica Player</title>

<style>
  body { margin:0; background:black; overflow:hidden; }
  video { width:100vw; height:100vh; object-fit:contain; }

  #logo {
    position:absolute;
    top:20px;
    left:20px;
    width:120px;
    opacity:0.9;
  }
</style>
</head>

<body>

<img id="logo" src="logo.png">
<video id="player" autoplay></video>

<script>

let playlist = [];

const player = document.getElementById("player");

// üîÑ Revisar comandos del panel
setInterval(() => {

  const data = localStorage.getItem("radiophonica_playlist");

  if (data) {
    playlist = JSON.parse(data);
    localStorage.removeItem("radiophonica_playlist");
    playRandom();
  }

}, 1000);

// üé≤ Reproducir random
function playRandom() {
  if (playlist.length === 0) return;

  const index = Math.floor(Math.random() * playlist.length);
  player.src = playlist[index];
  player.play();
}

// üîÅ Loop
player.addEventListener("ended", playRandom);

</script>

</body>
</html>
