<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Panel Radiophonica PRO</title>

<style>
  body {
    font-family: sans-serif;
    background: #111;
    color: white;
    padding: 20px;
  }

  input, button {
    margin-top: 10px;
    padding: 8px;
  }

  #lista {
    margin-top: 15px;
    background: #000;
    padding: 10px;
    border-radius: 8px;
    max-height: 350px;
    overflow-y: auto;
  }

  .item {
    padding: 6px;
    border-bottom: 1px solid #333;
    cursor: pointer;
  }

  .item:hover {
    background: #222;
  }
</style>
</head>

<body>

<h2>üéõÔ∏è Panel Radiophonica PRO</h2>

<div>Cargar videos o audios:</div>

<input type="file" id="fileInput" multiple accept="video/*,audio/*">

<br>

<button onclick="enviarRandom()">üé≤ Enviar modo aleatorio</button>

<div id="lista">No hay archivos cargados</div>

<script>

let playlist = [];
const lista = document.getElementById("lista");

// üìÇ Cargar archivos
document.getElementById("fileInput").addEventListener("change", e => {

  const files = Array.from(e.target.files);

  playlist = files.map(f => ({
    name: f.name,
    url: URL.createObjectURL(f)
  }));

  mostrarLista();

});

// üìã Mostrar lista clickeable
function mostrarLista() {

  if (!playlist.length) {
    lista.innerHTML = "No hay archivos cargados";
    return;
  }

  lista.innerHTML = playlist
    .map((f, i) => `
      <div class="item" onclick="reproducir(${i})">
        ‚ñ∂Ô∏è ${f.name}
      </div>
    `)
    .join("");

}

// ‚ñ∂Ô∏è Reproducir uno espec√≠fico
function reproducir(index) {

  const url = playlist[index].url;

  localStorage.setItem(
    "radiophonica_play_now",
    url
  );

}

// üé≤ Enviar lista para modo autom√°tico
function enviarRandom() {

  const urls = playlist.map(f => f.url);

  localStorage.setItem(
    "radiophonica_playlist",
    JSON.stringify(urls)
  );

  alert("Modo autom√°tico activado");

}

</script>

</body>
</html>
